# Local Postgres Schema (generated 2025-09-23T16:07:45Z; manifest_hash=7af492f2b96f1f4af41f03516829a848a7ec1b04e0654e2d4781d41f00d56ac4)

| Table | Column | Type | Nullable |
|-------|--------|------|----------|
| admin.districts | id | uuid | NO |
| admin.districts | created_at | timestamp | with |
| admin.districts | updated_at | timestamp | with |
| admin.districts | contact_email | text | YES |
| admin.districts | contact_phone | text | YES |
| admin.districts | contract_details | jsonb | YES |
| admin.districts | is_active | boolean | YES |
| admin.districts | name | text | YES |
| admin.districts | region | text | YES |
| admin.districts | school_count | integer | YES |
| admin.districts | state | text | YES |
| admin.districts | student_count | integer | YES |
| admin.districts | subscription_tier | text | YES |
| admin.districts | superintendent_name | text | YES |
| admin.districts | teacher_count | integer | YES |
| admin.districts | website | text | YES |
| admin.schema_migrations | id | uuid | NO |
| admin.schema_migrations | error_message | text | YES |
| admin.schema_migrations | executed_at | timestamp | with |
| admin.schema_migrations | execution_time_ms | bigint | YES |
| admin.schema_migrations | migration_file | text | YES |
| admin.schema_migrations | migration_name | text | YES |
| admin.schema_migrations | sql_hash | text | YES |
| admin.schema_migrations | status | text | YES |
| admin.school_settings | id | uuid | NO |
| admin.school_settings | school_id | uuid | YES |
| admin.school_settings | created_at | timestamp | with |
| admin.school_settings | updated_at | timestamp | with |
| admin.school_settings | description | text | YES |
| admin.school_settings | is_editable | boolean | YES |
| admin.school_settings | setting_key | text | YES |
| admin.school_settings | setting_type | text | YES |
| admin.school_settings | setting_value | text | YES |
| ai_insights.dev_schema_version | version | integer | NO |
| ai_insights.dev_schema_version | applied_at | timestamp | with |
| ai_insights.teacher_guidance_metrics | id | uuid | NO |
| ai_insights.teacher_guidance_metrics | session_id | uuid | NO |
| ai_insights.teacher_guidance_metrics | teacher_id | uuid | NO |
| ai_insights.teacher_guidance_metrics | prompt_id | uuid | NO |
| ai_insights.teacher_guidance_metrics | prompt_category | text | NO |
| ai_insights.teacher_guidance_metrics | priority_level | text | NO |
| ai_insights.teacher_guidance_metrics | prompt_message | text | NO |
| ai_insights.teacher_guidance_metrics | prompt_context | text | YES |
| ai_insights.teacher_guidance_metrics | suggested_timing | text | YES |
| ai_insights.teacher_guidance_metrics | session_phase | text | YES |
| ai_insights.teacher_guidance_metrics | subject_area | text | YES |
| ai_insights.teacher_guidance_metrics | target_metric | text | YES |
| ai_insights.teacher_guidance_metrics | learning_objectives | jsonb | YES |
| ai_insights.teacher_guidance_metrics | group_id | uuid | YES |
| ai_insights.teacher_guidance_metrics | generated_at | timestamp | with |
| ai_insights.teacher_guidance_metrics | expires_at | timestamp | with |
| ai_insights.teacher_guidance_metrics | acknowledged_at | timestamp | with |
| ai_insights.teacher_guidance_metrics | used_at | timestamp | with |
| ai_insights.teacher_guidance_metrics | dismissed_at | timestamp | with |
| ai_insights.teacher_guidance_metrics | feedback_rating | numeric | YES |
| ai_insights.teacher_guidance_metrics | feedback_text | text | YES |
| ai_insights.teacher_guidance_metrics | response_time_seconds | integer | YES |
| ai_insights.teacher_guidance_metrics | context_reason | text | YES |
| ai_insights.teacher_guidance_metrics | context_prior_topic | text | YES |
| ai_insights.teacher_guidance_metrics | context_current_topic | text | YES |
| ai_insights.teacher_guidance_metrics | context_transition_idea | text | YES |
| ai_insights.teacher_guidance_metrics | context_supporting_lines | jsonb | YES |
| ai_insights.teacher_guidance_metrics | context_confidence | numeric | YES |
| ai_insights.teacher_guidance_metrics | bridging_prompt | text | YES |
| ai_insights.teacher_guidance_metrics | on_track_summary | text | YES |
| ai_insights.teacher_guidance_metrics | effectiveness_score | numeric | YES |
| ai_insights.teacher_guidance_metrics | impact_confidence | numeric | YES |
| ai_insights.teacher_guidance_metrics | educational_purpose | text | YES |
| ai_insights.teacher_guidance_metrics | compliance_basis | text | YES |
| ai_insights.teacher_guidance_metrics | data_retention_date | timestamp | with |
| ai_insights.teacher_guidance_metrics | created_at | timestamp | with |
| ai_insights.teacher_guidance_metrics | updated_at | timestamp | with |
| ai_insights.teacher_prompt_effectiveness | id | text | NO |
| ai_insights.teacher_prompt_effectiveness | prompt_category | text | NO |
| ai_insights.teacher_prompt_effectiveness | subject_area | text | YES |
| ai_insights.teacher_prompt_effectiveness | session_phase | text | YES |
| ai_insights.teacher_prompt_effectiveness | priority_level | text | YES |
| ai_insights.teacher_prompt_effectiveness | total_generated | integer | NO |
| ai_insights.teacher_prompt_effectiveness | total_acknowledged | integer | NO |
| ai_insights.teacher_prompt_effectiveness | total_used | integer | NO |
| ai_insights.teacher_prompt_effectiveness | total_dismissed | integer | NO |
| ai_insights.teacher_prompt_effectiveness | avg_effectiveness_score | numeric | YES |
| ai_insights.teacher_prompt_effectiveness | avg_feedback_rating | numeric | YES |
| ai_insights.teacher_prompt_effectiveness | avg_response_time_seconds | integer | YES |
| ai_insights.teacher_prompt_effectiveness | avg_learning_impact | numeric | YES |
| ai_insights.teacher_prompt_effectiveness | data_points | integer | NO |
| ai_insights.teacher_prompt_effectiveness | calculation_period_start | timestamp | with |
| ai_insights.teacher_prompt_effectiveness | calculation_period_end | timestamp | with |
| ai_insights.teacher_prompt_effectiveness | last_calculated | timestamp | with |
| ai_insights.teacher_prompt_effectiveness | created_at | timestamp | with |
| ai_insights.teacher_prompt_effectiveness | updated_at | timestamp | with |
| analytics.session_events | id | uuid | NO |
| analytics.session_events | session_id | uuid | NO |
| analytics.session_events | teacher_id | uuid | YES |
| analytics.session_events | event_type | text | NO |
| analytics.session_events | event_time | timestamp | with |
| analytics.session_events | payload | jsonb | YES |
| analytics.session_events | created_at | timestamp | with |
| audio.recordings | id | uuid | NO |
| audio.recordings | session_id | uuid | YES |
| audio.recordings | created_at | timestamp | with |
| audio.recordings | channels | integer | YES |
| audio.recordings | codec | text | YES |
| audio.recordings | duration_seconds | integer | YES |
| audio.recordings | file_path | text | YES |
| audio.recordings | file_size_bytes | bigint | YES |
| audio.recordings | format | text | YES |
| audio.recordings | group_id | uuid | YES |
| audio.recordings | is_processed | boolean | YES |
| audio.recordings | last_error | text | YES |
| audio.recordings | participant_id | uuid | YES |
| audio.recordings | processed_at | timestamp | with |
| audio.recordings | processing_attempts | integer | YES |
| audio.recordings | sample_rate | integer | YES |
| audio.recordings | transcription_status | text | YES |
| communication.messages | id | uuid | NO |
| communication.messages | session_id | uuid | YES |
| communication.messages | created_at | timestamp | with |
| communication.messages | content | text | YES |
| communication.messages | deleted_at | timestamp | with |
| communication.messages | is_archived | boolean | YES |
| communication.messages | is_deleted | boolean | YES |
| communication.messages | is_read | boolean | YES |
| communication.messages | message_type | text | YES |
| communication.messages | metadata | jsonb | YES |
| communication.messages | read_at | timestamp | with |
| communication.messages | recipient_id | uuid | YES |
| communication.messages | recipient_type | text | YES |
| communication.messages | sender_id | uuid | YES |
| communication.messages | sender_type | text | YES |
| communication.messages | subject | text | YES |
| compliance.audit_log | id | uuid | NO |
| compliance.audit_log | session_id | uuid | YES |
| compliance.audit_log | school_id | uuid | YES |
| compliance.audit_log | created_at | timestamp | with |
| compliance.audit_log | actor_id | uuid | YES |
| compliance.audit_log | actor_type | text | YES |
| compliance.audit_log | affected_student_ids | uuid | YES |
| compliance.audit_log | compliance_basis | text | YES |
| compliance.audit_log | data_accessed | text | YES |
| compliance.audit_log | description | text | YES |
| compliance.audit_log | event_category | text | YES |
| compliance.audit_log | event_timestamp | timestamp | with |
| compliance.audit_log | event_type | text | YES |
| compliance.audit_log | ip_address | text | YES |
| compliance.audit_log | resource_id | uuid | YES |
| compliance.audit_log | resource_type | text | YES |
| compliance.audit_log | user_agent | text | YES |
| compliance.coppa_compliance | id | uuid | NO |
| compliance.coppa_compliance | school_id | uuid | YES |
| compliance.coppa_compliance | created_at | timestamp | with |
| compliance.coppa_compliance | updated_at | timestamp | with |
| compliance.coppa_compliance | age_verification_method | text | YES |
| compliance.coppa_compliance | age_verified_at | timestamp | with |
| compliance.coppa_compliance | auto_delete_enabled | boolean | YES |
| compliance.coppa_compliance | birth_year | integer | YES |
| compliance.coppa_compliance | data_collection_limited | boolean | YES |
| compliance.coppa_compliance | delete_after_days | integer | YES |
| compliance.coppa_compliance | deletion_completed_at | timestamp | with |
| compliance.coppa_compliance | deletion_requested_at | timestamp | with |
| compliance.coppa_compliance | is_under_13 | boolean | YES |
| compliance.coppa_compliance | no_behavioral_targeting | boolean | YES |
| compliance.coppa_compliance | no_third_party_sharing | boolean | YES |
| compliance.coppa_compliance | parent_access_enabled | boolean | YES |
| compliance.coppa_compliance | parent_last_reviewed | timestamp | with |
| compliance.coppa_compliance | student_id | uuid | YES |
| compliance.parental_consents | id | uuid | NO |
| compliance.parental_consents | school_id | uuid | YES |
| compliance.parental_consents | created_at | timestamp | with |
| compliance.parental_consents | updated_at | timestamp | with |
| compliance.parental_consents | consent_date | timestamp | with |
| compliance.parental_consents | consent_given | boolean | YES |
| compliance.parental_consents | consent_text_version | text | YES |
| compliance.parental_consents | consent_type | text | YES |
| compliance.parental_consents | expires_at | timestamp | with |
| compliance.parental_consents | ip_address | text | YES |
| compliance.parental_consents | parent_email | text | YES |
| compliance.parental_consents | parent_name | text | YES |
| compliance.parental_consents | relationship | text | YES |
| compliance.parental_consents | revoked_at | timestamp | with |
| compliance.parental_consents | student_id | uuid | YES |
| compliance.parental_consents | user_agent | text | YES |
| compliance.parental_consents | verification_method | text | YES |
| compliance.parental_consents | verification_token | text | YES |
| compliance.parental_consents | verified_at | timestamp | with |
| compliance.retention_policies | id | uuid | NO |
| compliance.retention_policies | school_id | uuid | YES |
| compliance.retention_policies | created_at | timestamp | with |
| compliance.retention_policies | updated_at | timestamp | with |
| compliance.retention_policies | archive_after_days | integer | YES |
| compliance.retention_policies | auto_delete_enabled | boolean | YES |
| compliance.retention_policies | delete_after_days | integer | YES |
| compliance.retention_policies | legal_basis | text | YES |
| compliance.retention_policies | policy_type | text | YES |
| compliance.retention_policies | retention_days | integer | YES |
| notifications.notification_queue | id | uuid | NO |
| notifications.notification_queue | created_at | timestamp | with |
| notifications.notification_queue | channel | text | YES |
| notifications.notification_queue | content | text | YES |
| notifications.notification_queue | expires_at | timestamp | with |
| notifications.notification_queue | failed_at | timestamp | with |
| notifications.notification_queue | failure_reason | text | YES |
| notifications.notification_queue | max_retries | integer | YES |
| notifications.notification_queue | notification_type | text | YES |
| notifications.notification_queue | priority | text | YES |
| notifications.notification_queue | recipient_address | text | YES |
| notifications.notification_queue | retry_count | integer | YES |
| notifications.notification_queue | scheduled_for | timestamp | with |
| notifications.notification_queue | sent_at | timestamp | with |
| notifications.notification_queue | status | text | YES |
| notifications.notification_queue | subject | text | YES |
| notifications.notification_queue | template_data | jsonb | YES |
| notifications.notification_queue | template_id | uuid | YES |
| notifications.notification_queue | user_id | uuid | YES |
| notifications.templates | id | uuid | NO |
| notifications.templates | created_at | timestamp | with |
| notifications.templates | updated_at | timestamp | with |
| notifications.templates | body_template | text | YES |
| notifications.templates | category | text | YES |
| notifications.templates | channel | text | YES |
| notifications.templates | created_by | text | YES |
| notifications.templates | description | text | YES |
| notifications.templates | is_active | boolean | YES |
| notifications.templates | name | text | YES |
| notifications.templates | subject_template | text | YES |
| notifications.templates | variables | jsonb | YES |
| notifications.templates | version | integer | YES |
| operational.api_metrics | id | uuid | NO |
| operational.api_metrics | school_id | uuid | YES |
| operational.api_metrics | endpoint | text | YES |
| operational.api_metrics | ip_address | text | YES |
| operational.api_metrics | method | text | YES |
| operational.api_metrics | response_time_ms | integer | YES |
| operational.api_metrics | status_code | integer | YES |
| operational.api_metrics | timestamp | timestamp | with |
| operational.api_metrics | user_agent | text | YES |
| operational.api_metrics | user_id | uuid | YES |
| operational.background_jobs | id | uuid | NO |
| operational.background_jobs | created_at | timestamp | with |
| operational.background_jobs | updated_at | timestamp | with |
| operational.background_jobs | completed_at | timestamp | with |
| operational.background_jobs | error_message | text | YES |
| operational.background_jobs | job_type | text | YES |
| operational.background_jobs | parameters | text | YES |
| operational.background_jobs | result | text | YES |
| operational.background_jobs | retry_count | integer | YES |
| operational.background_jobs | scheduled_at | timestamp | with |
| operational.background_jobs | started_at | timestamp | with |
| operational.background_jobs | status | text | YES |
| operational.system_events | id | uuid | NO |
| operational.system_events | session_id | uuid | YES |
| operational.system_events | school_id | uuid | YES |
| operational.system_events | created_at | timestamp | with |
| operational.system_events | component | text | YES |
| operational.system_events | error_details | jsonb | YES |
| operational.system_events | event_type | text | YES |
| operational.system_events | message | text | YES |
| operational.system_events | severity | text | YES |
| operational.system_events | user_id | uuid | YES |
| sessions.classroom_sessions | id | uuid | NO |
| sessions.classroom_sessions | title | text | NO |
| sessions.classroom_sessions | status | text | NO |
| sessions.classroom_sessions | goal | text | YES |
| sessions.classroom_sessions | subject | text | YES |
| sessions.classroom_sessions | description | text | YES |
| sessions.classroom_sessions | planned_duration_minutes | integer | YES |
| sessions.classroom_sessions | teacher_id | uuid | NO |
| sessions.classroom_sessions | school_id | uuid | YES |
| sessions.classroom_sessions | scheduled_start | timestamp | with |
| sessions.classroom_sessions | actual_start | timestamp | with |
| sessions.classroom_sessions | actual_end | timestamp | with |
| sessions.classroom_sessions | target_group_size | integer | YES |
| sessions.classroom_sessions | max_students | integer | YES |
| sessions.classroom_sessions | auto_group_enabled | boolean | NO |
| sessions.classroom_sessions | recording_enabled | boolean | NO |
| sessions.classroom_sessions | transcription_enabled | boolean | NO |
| sessions.classroom_sessions | ai_analysis_enabled | boolean | NO |
| sessions.classroom_sessions | ferpa_compliant | boolean | NO |
| sessions.classroom_sessions | coppa_compliant | boolean | NO |
| sessions.classroom_sessions | recording_consent_obtained | boolean | NO |
| sessions.classroom_sessions | data_retention_date | timestamp | with |
| sessions.classroom_sessions | total_groups | integer | YES |
| sessions.classroom_sessions | total_students | integer | YES |
| sessions.classroom_sessions | access_code | text | YES |
| sessions.classroom_sessions | engagement_score | numeric | YES |
| sessions.classroom_sessions | participation_rate | numeric | YES |
| sessions.classroom_sessions | actual_duration_minutes | integer | YES |
| sessions.classroom_sessions | end_reason | text | YES |
| sessions.classroom_sessions | teacher_notes | text | YES |
| sessions.classroom_sessions | created_at | timestamp | with |
| sessions.classroom_sessions | updated_at | timestamp | with |
| sessions.participants | id | uuid | NO |
| sessions.participants | session_id | uuid | YES |
| sessions.participants | group_id | uuid | YES |
| sessions.participants | student_id | uuid | YES |
| sessions.participants | anonymous_id | uuid | YES |
| sessions.participants | display_name | text | YES |
| sessions.participants | join_time | timestamp | with |
| sessions.participants | leave_time | timestamp | with |
| sessions.participants | is_active | boolean | YES |
| sessions.participants | device_type | text | YES |
| sessions.participants | browser_info | text | YES |
| sessions.participants | connection_quality | text | YES |
| sessions.participants | can_speak | boolean | YES |
| sessions.participants | can_hear | boolean | YES |
| sessions.participants | is_muted | boolean | YES |
| sessions.participants | total_speaking_time_seconds | integer | YES |
| sessions.participants | message_count | integer | YES |
| sessions.participants | interaction_count | integer | YES |
| sessions.participants | created_at | timestamp | with |
| sessions.participants | updated_at | timestamp | with |
| sessions.student_group_members | id | uuid | NO |
| sessions.student_group_members | group_id | uuid | NO |
| sessions.student_group_members | session_id | uuid | NO |
| sessions.student_group_members | student_id | uuid | NO |
| sessions.student_group_members | role | text | YES |
| sessions.student_group_members | created_at | timestamp | with |
| sessions.student_groups | id | uuid | NO |
| sessions.student_groups | session_id | uuid | NO |
| sessions.student_groups | name | text | NO |
| sessions.student_groups | group_number | integer | YES |
| sessions.student_groups | status | text | YES |
| sessions.student_groups | max_size | integer | YES |
| sessions.student_groups | current_size | integer | YES |
| sessions.student_groups | leader_id | uuid | YES |
| sessions.student_groups | is_ready | boolean | NO |
| sessions.student_groups | auto_managed | boolean | NO |
| sessions.student_groups | created_at | timestamp | with |
| sessions.student_groups | updated_at | timestamp | with |
| users.schools | id | uuid | NO |
| users.schools | name | text | NO |
| users.schools | domain | text | YES |
| users.schools | created_at | timestamp | with |
| users.schools | updated_at | timestamp | with |
| users.students | id | uuid | NO |
| users.students | name | text | YES |
| users.students | display_name | text | YES |
| users.students | email | text | YES |
| users.students | school_id | uuid | YES |
| users.students | grade_level | text | YES |
| users.students | status | text | YES |
| users.students | has_parental_consent | boolean | YES |
| users.students | consent_date | timestamp | with |
| users.students | parent_email | text | YES |
| users.students | email_consent | boolean | YES |
| users.students | coppa_compliant | boolean | YES |
| users.students | teacher_verified_age | boolean | YES |
| users.students | data_sharing_consent | boolean | YES |
| users.students | audio_recording_consent | boolean | YES |
| users.students | created_at | timestamp | with |
| users.students | updated_at | timestamp | with |
| users.teachers | id | uuid | NO |
| users.teachers | email | text | YES |
| users.teachers | name | text | YES |
| users.teachers | school_id | uuid | YES |
| users.teachers | created_at | timestamp | with |
